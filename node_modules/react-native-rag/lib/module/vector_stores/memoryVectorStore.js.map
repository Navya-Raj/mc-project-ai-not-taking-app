{"version":3,"names":["uuidv4","cosine","MemoryVectorStore","rows","Map","constructor","embeddings","load","embeddingDim","embed","length","unload","add","params","id","document","embedding","metadata","Error","has","set","update","oldRow","get","delete","predicate","row","query","queryText","queryEmbedding","nResults","searchEmbedding","Array","from","values","map","r","similarity","filter","sort","a","b","slice"],"sourceRoot":"../../../src","sources":["vector_stores/memoryVectorStore.ts"],"mappings":"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","ignoreList":[]}
