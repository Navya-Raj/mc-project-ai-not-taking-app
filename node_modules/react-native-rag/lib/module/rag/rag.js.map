{"version":3,"names":["RecursiveCharacterTextSplitter","uuidv4","RAG","constructor","vectorStore","llm","load","unload","splitAddDocument","params","document","metadataGenerator","textSplitter","chunkSize","chunkOverlap","chunks","splitText","ids","map","metadatas","undefined","length","Error","i","add","id","metadata","addDocument","updateDocument","update","deleteDocument","delete","questionGenerator","messages","lastMessage","content","promptGenerator","retrievedDocs","result","join","generate","input","augmentedGeneration","nResults","predicate","callback","role","query","queryText","prompt","augmentedInput","interrupt"],"sourceRoot":"../../../src","sources":["rag/rag.ts"],"mappings":"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","ignoreList":[]}
