{"version":3,"names":["NativeModules","Platform","global","__OPSQLiteProxy","OPSQLite","Error","installed","install","proxy","enhanceDB","db","options","lock","queue","inProgress","startNextTransaction","length","tx","shift","setImmediate","start","sanitizeArrayBuffersInArray","params","map","p","Array","isArray","ArrayBuffer","isView","buffer","enhancedDb","delete","attach","detach","executeBatch","commands","i","run","executeSync","res","flushPendingReactiveQueries","executionError","rollbackError","Promise","resolve","reject","then","catch","push","loadFile","updateHook","commitHook","rollbackHook","loadExtension","getDbPath","reactiveExecute","sync","close","executeWithHostObjects","query","sanitizedParams","executeRaw","executeRawSync","executeRawAsync","intermediateResult","rows","rawRows","row","rawRow","j","columnNames","columnName","value","executeAsync","execute","prepareStatement","stmt","bindSync","bind","transaction","fn","isFinalized","name","url","commit","result","rollback","openSync","isLibsql","openRemote","open","location","startsWith","console","warn","substring","moveAssetsDatabase","args","getDylibPath","bundle","isSQLCipher","isIOSEmbedded","OS","isIOSEmbeeded"],"sourceRoot":"../../src","sources":["functions.ts"],"mappings":"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","ignoreList":[]}
